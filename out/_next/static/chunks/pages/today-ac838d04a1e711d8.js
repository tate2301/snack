(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{1490:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/today",function(){return l(2197)}])},4970:function(e,t,l){"use strict";l.d(t,{Z:function(){return A}});var s=l(5893),a=l(1389),n=l(7294),i=l(5820),r=l(4876),c=l(8680),d=l(364),o=l(445),u=l(512),x=l(8100),h=l(4345),m=l(9373),f=l(1808),p=l(4092),g=l(2175),b=l(1415),j=l(6419);let y=e=>(0,s.jsx)(j.fC,{children:e.children});y.Content=e=>(0,s.jsx)(j.h_,{children:(0,s.jsxs)(j.VY,{className:"rounded-xl p-4 w-[260px] bg-white shadow-xl border border-surface-2 -translate-x-4",sideOffset:4,children:[!e.noClose&&(0,s.jsx)(y.Close,{}),e.children,(0,s.jsx)(j.Eh,{className:"fill-white"})]})}),y.Trigger=e=>(0,s.jsx)(j.xz,{asChild:!0,children:e.children}),y.Close=()=>(0,s.jsx)("div",{className:"flex w-full mb-4 justify-end",children:(0,s.jsx)(j.x8,{className:"rounded-full inline-flex items-center justify-center top-1 right-1 outline-none cursor-default","aria-label":"Close",children:(0,s.jsx)(b.Z,{className:"w-6 h-6"})})});var v=l(1446),w=l(1038),N=l(4201),Z=l(1886),M=l(6843),C=l(9160),E=l(2530),k=l(8366),z=l(9983),R=l(9005),D=l(4135),S=l(7090),_=l(8699),T=l(3703),I=l(584),F=l(1052),O=e=>{let[t,l]=(0,n.useState)(e);(0,h.TL)(),(0,h.CG)(F.Gk);let[s,a]=(0,n.useState)((0,N.Z)(t,"MMMM yyyy")),i=(0,_.Z)(s,"MMMM yyyy",new Date),r=(0,n.useMemo)(()=>(0,R.Z)({start:(0,I.Z)((0,T.Z)(i)),end:(0,S.Z)((0,D.Z)(i))}),[i]),c=(0,n.useMemo)(()=>(0,R.Z)({start:(0,I.Z)(t),end:(0,S.Z)(t)}),[t]),d=e=>{l(e)};return{selectDate:d,selectedDate:t,week:c,month:r,nextDate:()=>{d((0,z.Z)(t,{days:1}))},prevDate:()=>{d((0,z.Z)(t,{days:-1}))},nextWeek:()=>{d((0,z.Z)(t,{weeks:1}))},prevWeek:()=>{d((0,z.Z)(t,{weeks:-1}))},nextMonth:()=>{let e=(0,z.Z)(i,{months:1});a((0,N.Z)(e,"MMMM yyyy"))},prevMonth:()=>{let e=(0,z.Z)(i,{months:-1});a((0,N.Z)(e,"MMMM yyyy"))},firstDayOfCurrentMonth:i}};let P=["","col-start-2","col-start-3","col-start-4","col-start-5","col-start-6"];function B(e){var t;let l=null!==(t=e.value)&&void 0!==t?t:(0,k.Z)();console.log({today:l});let{prevMonth:a,nextMonth:n,month:i,firstDayOfCurrentMonth:r,selectedDate:c}=O(l),d=t=>{e.onChange(t)};return(0,s.jsxs)("div",{className:"flex-none hidden w-full md:block",children:[(0,s.jsxs)("div",{className:"flex items-baseline justify-between px-2 text-center text-zinc-900",children:[(0,s.jsx)("p",{className:"font-semibold uppercase text-zinc-900",children:(0,N.Z)(r,"MMMM yyyy")}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("button",{type:"button",onClick:a,className:"-m-1.5 flex flex-none items-center justify-center p-1.5 text-zinc-400 hover:bg-white hover:shadow rounded-lg bg-surface-1 border border-surface-4",children:[(0,s.jsx)("span",{className:"sr-only",children:"Previous month"}),(0,s.jsx)(v.Z,{className:"w-5 h-5","aria-hidden":"true"})]}),(0,s.jsxs)("button",{type:"button",onClick:n,className:"-m-1.5 flex flex-none items-center justify-center p-1.5 text-zinc-400 hover:bg-white hover:shadow rounded-lg bg-surface-1 border border-surface-4",children:[(0,s.jsx)("span",{className:"sr-only",children:"Next month"}),(0,s.jsx)(w.Z,{className:"w-5 h-5","aria-hidden":"true"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-7 mt-6 text-xs leading-6 text-center uppercase text-zinc-500",children:[(0,s.jsx)("div",{children:"S"}),(0,s.jsx)("div",{children:"M"}),(0,s.jsx)("div",{children:"T"}),(0,s.jsx)("div",{children:"W"}),(0,s.jsx)("div",{children:"T"}),(0,s.jsx)("div",{children:"F"}),(0,s.jsx)("div",{children:"S"})]}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-px mt-2 text-sm uppercase rounded-lg isolate",children:i.map((e,t)=>(0,s.jsx)("button",{type:"button",onClick:()=>d(e),className:(0,u.Z)("py-1.5 hover:bg-zinc-100 focus:z-10 rounded-xl flex items-center justify-center flex-col gap-1 transition-all",((0,M.Z)(e,c)||(0,E.Z)(e))&&"font-semibold",!(0,M.Z)(e,c)&&(0,C.Z)(e,r)&&!(0,E.Z)(e)&&"text-zinc-800",!(0,M.Z)(e,c)&&!(0,C.Z)(e,l)&&!(0,E.Z)(e)&&"text-zinc-400",(0,E.Z)(e)&&!(0,M.Z)(e,c)&&"text-purple-600",0===t&&"rounded-tl-lg",6===t&&"rounded-tr-lg",t===i.length-7&&"rounded-bl-lg",t===i.length-1&&"rounded-br-lg",0===t&&P[(0,Z.Z)(e)],(0,M.Z)(e,c)&&"!text-white bg-zinc-950 hover:bg-zinc-800",(0,C.Z)(e,r)?"text-zinc-900":""),children:(0,s.jsx)("time",{dateTime:e.getDate().toString(),className:(0,u.Z)("mx-auto flex h-7 w-7 items-center justify-center rounded-full"),children:(0,N.Z)(e,"d")})},e.toString()))})]})}let V=e=>{let[,t]=(0,n.useState)(0),l=(0,n.useRef)(null),a=(0,n.useRef)(null),i=(0,h.TL)(),r=(0,g.TA)({initialValues:{title:"",deadline:void 0},onSubmit:e=>{c(e)}}),c=t=>{if(!t.title)return;let l={id:(0,f.D)(),title:t.title,description:"",complete:!1,priority:m.X.High,status:m.S.InProgress,createdAt:new Date,lastUpdated:new Date,tags:[],subtasks:[],deadline:t.deadline};i((0,p.gI)(l)),r.resetForm(),e.setIsFocused(!1)},o=(0,n.useCallback)(t=>{"Enter"!==t.key||t.shiftKey||(t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0,t.stopImmediatePropagation(),r.submitForm().then(e.toggle))},[a.current,r,c]);return(0,s.jsxs)("form",{className:"w-full",ref:l,onSubmit:r.handleSubmit,children:[(0,s.jsxs)("div",{className:"flex-1 flex items-start w-full mb-1",children:[(0,s.jsx)("input",{type:"checkbox",disabled:!0,className:"!bg-surface-6 flex-shrink-0"}),(0,s.jsx)(x.Z,{placeholder:"Create a new task",className:"outline-none ring-0 flex-1 text-surface-12 w-full font-medium",name:"title",autoFocus:!0,listeners:{keydown:o},onChange:r.handleChange,value:r.values.title})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsx)(H,{selectDate:e=>r.setFieldValue("deadline",e),selectedDate:r.values.deadline}),!1,(0,s.jsxs)("button",{type:"submit",className:"p-2 px-4 rounded-xl bg-primary-10 text-white",children:[(0,s.jsx)("p",{className:"p-1 rounded-full bg-white",children:(0,s.jsx)(d.Z,{className:"w-4 h-4 text-primary-11 stroke-2"})}),"Add task"]})]})]})};var A=()=>{let[e,t,l]=(0,a.Z)(!1);return(0,s.jsx)("div",{className:"group",children:(0,s.jsxs)(i.M,{children:[!e&&(0,s.jsxs)(r.E.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},type:"button",onClick:t,className:(0,u.Z)("relative flex items-center font-normal bg-surface-6 rounded-xl w-full p-4 hover:bg-surface-7"),children:[(0,s.jsx)(c.Z,{className:"h-5 w-5","aria-hidden":"true"}),(0,s.jsx)("span",{className:"text-surface-11",children:"Create a new task"})]}),e&&(0,s.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col gap-2 items-start bg-white p-4 rounded-xl shadow",children:(0,s.jsx)(V,{toggle:t,setIsFocused:l})})]})})};function H(e){var t;return(0,s.jsxs)(y,{children:[(0,s.jsx)(y.Trigger,{children:(0,s.jsxs)("button",{type:"button",className:(0,u.Z)("p-2 rounded-xl items-center",e.selectedDate?"bg-primary-4 text-primary-11":"bg-surface-2 hover:bg-danger-3 hover:text-danger-11 text-surface-10"),children:[(0,s.jsx)(o.Z,{className:"h-6 w-6"}),e.selectedDate?(0,N.Z)(e.selectedDate,"EEE dd yyyy"):"Deadline"]})}),(0,s.jsx)(y.Content,{noClose:!0,children:(0,s.jsx)(B,{value:null!==(t=e.selectedDate)&&void 0!==t?t:(0,k.Z)(),onChange:e.selectDate})})]})}},2197:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return N}});var s=l(5893),a=l(537),n=l(4876),i=l(5820),r=l(5964),c=l(4970),d=l(4345),o=l(9373),u=l(4092),x=l(1163),h=l(7294),m=l(1389);let f=h.forwardRef(function({title:e,titleId:t,...l},s){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},l),e?h.createElement("title",{id:t},e):null,h.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z",clipRule:"evenodd"}))}),p=h.forwardRef(function({title:e,titleId:t,...l},s){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},l),e?h.createElement("title",{id:t},e):null,h.createElement("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 01.75-.75H9a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H7.5a.75.75 0 01-.75-.75V5.25zm7.5 0A.75.75 0 0115 4.5h1.5a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H15a.75.75 0 01-.75-.75V5.25z",clipRule:"evenodd"}))}),g=h.forwardRef(function({title:e,titleId:t,...l},s){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},l),e?h.createElement("title",{id:t},e):null,h.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z",clipRule:"evenodd"}))}),b=h.forwardRef(function({title:e,titleId:t,...l},s){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},l),e?h.createElement("title",{id:t},e):null,h.createElement("path",{fillRule:"evenodd",d:"M4.5 12a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z",clipRule:"evenodd"}))}),j=e=>{let t=Math.floor(e/3600),l=Math.floor((e-3600*t)/60),s=e-3600*t-60*l;return"".concat(t>9?t:"0".concat(t),":").concat(l>9?l:"0".concat(l),":").concat(s>9?s:"0".concat(s))};var y=l(512),v=()=>{let e=(0,h.useRef)(),[t,l]=(0,h.useState)(0),[a,i]=(0,h.useState)(1800),[r,c]=(0,h.useState)(a),[d,o]=(0,m.Z)(!1);(0,h.useEffect)(()=>{if(d){let e=setInterval(()=>{c(e=>e-1)},1e3);return()=>clearInterval(e)}},[d]),(0,h.useEffect)(()=>{if(0===r&&d)return c(a),o()},[r,d]),(0,h.useEffect)(()=>{let s=e.current;if(s&&0===t){let e=s.getBoundingClientRect(),t=e.width;l(Math.floor(t/8))}},[]);let u=(a-r)/a,x=Math.floor(u*t),v=(0,h.useCallback)(()=>c(a),[a]);return(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-white",children:[(0,s.jsxs)("button",{className:"px-4 py-2 bg-surface-4 rounded-xl gap-4",children:[(0,s.jsx)("p",{className:"flex items-center h-4 gap-4 font-medium rounded-md aspect-square ring-2 ring-primary-10"}),"Math Exam CUIT-103"]}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("div",{className:"flex items-center py-2 w-full rounded-xl",children:(0,s.jsx)("p",{className:"text-3xl font-semibold uppercase",children:r>0?j(r):"00:00:00"})}),(0,s.jsx)("div",{ref:e,className:"mt-1 mb-4 flex gap-1 items-baseline",children:Array(t).fill(0).map((e,t)=>(0,s.jsx)("div",{className:(0,y.Z)("w-2 h-8 rounded-full transition-all duration-300",t<x?" bg-zinc-900":"bg-zinc-200")},t))}),(0,s.jsxs)("div",{className:"flex gap-2",children:[!d&&(0,s.jsxs)(n.E.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:o,className:"py-2 px-4 rounded-xl flex gap-2 bg-zinc-900 text-white",children:[(0,s.jsx)(f,{className:"w-5 h-5"}),r===a?"Start timed session":"Continue session"]}),d&&(0,s.jsxs)(n.E.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:o,className:"py-2 px-4 rounded-xl flex gap-2 bg-red-600 text-white",children:[(0,s.jsx)(p,{className:"w-5 h-5"}),"Pause session"]}),!d&&r!==a&&(0,s.jsxs)(n.E.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:v,className:"py-2 px-4 rounded-xl flex gap-2 bg-white border",children:[(0,s.jsx)(g,{className:"w-5 h-5"}),"Restart session"]}),(0,s.jsx)("button",{className:"p-2 px-3 rounded-xl bg-surface-2",children:(0,s.jsx)(b,{className:"w-6 h-6"})})]})]})]})};let w=h.forwardRef(function({title:e,titleId:t,...l},s){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},l),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"}))});function N(){let e=(0,x.useRouter)(),{active:t}=e.query,l=(0,d.CG)(u.jF);(0,d.CG)(e=>(0,u.xz)(e,o.S.InProgress));let h=e=>1e3*e;return(0,s.jsx)(a.Z,{children:(0,s.jsx)("main",{className:"h-full flex gap-4 items-start",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"gap-4 items-center mb-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-2 w-full group pb-4",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold text-surface-12",children:"Today"}),(0,s.jsx)("button",{className:"p-2 rounded-xl opacity-0 group-hover:opacity-100 transition-all hover:bg-surface-1",children:(0,s.jsx)(w,{className:"w-6 h-6"})})]})}),(0,s.jsx)("div",{className:"mb-12",children:(0,s.jsx)(v,{})}),(0,s.jsx)(c.Z,{}),(0,s.jsx)(n.E.div,{className:"flex flex-col gap-2 mt-4",children:(0,s.jsx)(i.M,{initial:!1,children:l.map(e=>(0,s.jsx)(n.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto",transition:{type:"spring",bounce:.3,opactiy:{delay:h(.02)}}},exit:{opacity:0,height:0},transition:{type:"spring",bounce:0,duration:h(.15),opactiy:{duration:h(.03)}},children:(0,s.jsx)(r.Z,{...e},e.id)}))})})]})})})}}},function(e){e.O(0,[128,541,80,903,774,888,179],function(){return e(e.s=1490)}),_N_E=e.O()}]);